<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Extend Payment Provider Form -->
    <record id="payment_provider_form_midtrans" model="ir.ui.view">
        <field name="name">payment.provider.form.midtrans</field>
        <field name="model">payment.provider</field>
        <field name="inherit_id" ref="payment.payment_provider_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='provider_credentials']" position="after">
                <group attrs="{'invisible': [('code', '!=', 'midtrans')]}" 
                       string="Midtrans Credentials">
                    <group>
                        <field name="midtrans_merchant_id" 
                               placeholder="G123456789"
                               attrs="{'required': [('code', '=', 'midtrans'), ('state', '!=', 'disabled')]}"/>
                        <field name="midtrans_client_key" 
                               placeholder="SB-Mid-client-xxxxxxxxxxxxxxxx"
                               attrs="{'required': [('code', '=', 'midtrans'), ('state', '!=', 'disabled')]}"/>
                        <field name="midtrans_server_key" 
                               password="True"
                               placeholder="SB-Mid-server-xxxxxxxxxxxxxxxx"
                               attrs="{'required': [('code', '=', 'midtrans'), ('state', '!=', 'disabled')]}"/>
                    </group>
                    <group>
                        <div class="alert alert-info" role="alert">
                            <strong>Informasi Konfigurasi:</strong>
                            <ul>
                                <li>Dapatkan credentials dari <a href="https://dashboard.midtrans.com" target="_blank">Midtrans Dashboard</a></li>
                                <li>Untuk testing, gunakan Sandbox credentials (awalan SB-)</li>
                                <li>Untuk production, gunakan Production credentials</li>
                                <li>Daftarkan Notification URL: <code>/payment/midtrans/notification</code></li>
                            </ul>
                        </div>
                    </group>
                </group>
            </xpath>
        </field>
    </record>
</odoo>